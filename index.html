<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boda Javier y Laura</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&family=Lato:wght@300;400;700&display=swap"
        rel="stylesheet">
    <!-- Preload recursos críticos para mejorar LCP -->
    <link rel="preload" as="image" href="img/damasco.png">
    <link rel="preload" as="image" href="img/foto_javi_laura_cancun_bw.jpeg">
    <link id="theme-link" rel="stylesheet" href="css/style-granate.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/form.css">
</head>

<body>
    <!-- Intro tipo sobre -->
    <div id="intro-overlay">
        <div class="intro-envelope">
            <div class="intro-envelope-inner"></div> <!-- bolsillo interior damasco -->
            <div class="intro-envelope-flap"></div> <!-- flap que se abre -->
            <div class="intro-envelope-body"> <!-- tarjeta crema -->
                <span class="intro-names">J&amp;L</span>
                <span class="intro-date">03 · 10 · 2026</span>
            </div>
            <!-- <button id="skip-intro">Saltar intro</button> -->
        </div>
    </div>
    <header>
        <nav>
            <ul>
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#evento">Evento</a></li>
                <li><a href="#confirmacion">Confirmación</a></li>
                <li><a href="#regalo">Con mucho cariño</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="inicio">
            <h1>Javier & Laura</h1>
            <p>¡Nos casamos!</p>
            <p>03 de Octubre de 2026</p>
        </section>

        <section id="evento">
            <h2>Detalles del Evento</h2>
            <div class="event-details">
                <div class="event-card">
                    <img src="img/iglesia.png" alt="Iglesia de San Ildefonso" class="event-card-image" loading="lazy" width="400" height="280">
                    <div class="event-card-content">
                        <h3>Ceremonia</h3>
                        <p>Lugar: Iglesia de San Ildefonso, Zamora.</p>
                        <p>Dirección: Plaza de Fray Diego de Deza</p>
                        <p>Hora: 17:00</p>
                        <a href="https://maps.app.goo.gl/94a2vMeDKrAKK34o8" target="_blank" class="map-button">Ver en Maps</a>
                    </div>
                </div>
                <div class="event-card">
                    <img src="img/zorita1.jpg" alt="Hacienda Zorita" class="event-card-image" loading="lazy" width="400" height="280">
                    <div class="event-card-content">
                        <h3>Celebración</h3>
                        <p>Lugar: Hacienda Zorita, Salamanca</p>
                        <p>Dirección: SA-300, km 10, 37115 Valverdón, Salamanca</p>
                        <p>Hora: 19:00</p>
                        <a href="https://maps.app.goo.gl/2By2uXfSwvQKGAMS6" target="_blank" class="map-button">Ver en Maps</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="confirmacion">
            <h2>Confirmación de Asistencia</h2>
            <form id="rsvp-form" class="form-grid">
                <div id="form-success" class="form-success" role="status" aria-live="polite" style="display:none;" tabindex="-1"></div>
                <div class="form-row full">
                    <label for="guest-name">Tu nombre y apellidos</label>
                    <input id="guest-name" name="guest_name" type="text" placeholder="Tu nombre y apellidos" required>
                </div>
                <div class="form-row half">
                    <label for="attendance">¿Asistirás?</label>
                    <select id="attendance" name="attendance" required>
                        <option value="" disabled selected hidden>¿Asistirás?</option>
                        <option value="si">Sí, asistiré</option>
                        <option value="no">No podré asistir</option>
                    </select>
                </div>
                <div class="form-row half">
                    <label for="partner-attendance">¿Vendrá tu pareja?</label>
                    <select id="partner-attendance" name="partner_attendance">
                        <option value="" disabled selected hidden>Selecciona una opción</option>
                        <option value="si">Sí, vendrá</option>
                        <option value="no">No</option>
                    </select>
                </div>

                <div class="form-row full" id="partner-name-row" style="display:none;">
                    <label for="partner-name">Nombre y apellidos de la pareja</label>
                    <input id="partner-name" name="partner_name" type="text" placeholder="Nombre y apellidos de tu acompañante">
                </div>

                <fieldset class="form-row full">
                    <legend>Autobús (opcional)</legend>
                    <div>
                        <input type="checkbox" id="bus-ida" name="bus_ida">
                        <label for="bus-ida">Autobús de ida a Hacienda Zorita</label>
                    </div>
                    <div>
                        <input type="checkbox" id="bus-vuelta" name="bus_vuelta">
                        <label for="bus-vuelta">Autobús de vuelta a Zamora</label>
                    </div>
                    <div id="bus-warning" class="form-warning" role="alert" aria-live="polite" style="display:none;">
                        <strong>Aviso:</strong> Si te vas a alojar la noche de la boda (03 de octubre) en Hacienda Zorita, no habrá autobús de vuelta a Zamora al día siguiente. Recomendamos ir en coche a Hacienda Zorita tras la ceremonia (así podréis volver directamente al día siguiente), o coordinad con alguien que pueda llevaros de vuelta a Zamora. Si vienes en tren a Zamora, lo más práctico es alojarte en hoteles de Zamora y usar el autobús de vuelta.
                    </div>
                </fieldset>

                <div class="form-row full">
                    <button type="submit">Confirmar</button>
                </div>
            </form>
        </section>

        <section id="regalo" aria-labelledby="regalo-title">
            <h2 id="regalo-title">Un gesto desde el corazón</h2>
            <p>Para nosotros, el mejor regalo es compartir este día con vosotros.
            Si queréis ayudarnos a empezar esta nueva etapa, os dejamos nuestro número de cuenta.</p>
            <div class="account-wrap">
                <p class="account-number" id="account-number">ES8015830001109135563304</p>
                <div class="account-actions">
                    <button type="button" id="copy-account" class="copy-btn" aria-label="Copiar número de cuenta">Copiar</button>
                    <span class="copy-status" id="copy-status" aria-live="polite" role="status"></span>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Javier & Laura. Todos los derechos reservados.</p>
        <p id="founder">Creada por Javi, con mucho amor ;-)</p>
    </footer>

    <!-- Player de YouTube API (para música de fondo) -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <!-- JS separado -->
    <script src="js/music.js" defer></script>
    <script src="js/main.js" defer></script>
    <script src="js/form.js" defer></script>

    <!-- Tema fijo: únicamente granate (style-granate.css) -->

    <!-- Botón flotante de música -->
    <button id="music-toggle" class="music-off" aria-pressed="false" aria-label="Reproducir / Silenciar música de fondo">
        <!-- SVG icon: speaker + muted slash. Visibility controlled by CSS classes -->
        <svg class="music-svg" viewBox="0 0 24 24" width="28" height="28" aria-hidden="true">
            <g class="icon-speaker">
                <path d="M3 10v4h4l5 5V5L7 10H3z" fill="currentColor" />
            </g>
            <g class="icon-wave">
                <path d="M16.5 8.5c.9.9 1.5 2.1 1.5 3.5s-.6 2.6-1.5 3.5" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                <path d="M19 6c1.7 1.7 2.8 4 2.8 6s-1.1 4.3-2.8 6" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round" opacity="0.8"/>
            </g>
            <g class="icon-muted">
                <path d="M2 2l20 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </g>
        </svg>
    </button>

    <!-- Modal de confirmación (popup) -->
    <div id="confirm-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal-overlay" data-close="true"></div>
        <div class="modal-panel" role="document" aria-labelledby="confirm-modal-title">
            <h3 id="confirm-modal-title">Revisa tu confirmación</h3>
            <div id="confirm-modal-body" class="modal-body"></div>
            <div class="modal-actions">
                <button id="modal-confirm" class="btn-confirm">Confirmar</button>
                <button id="modal-cancel" class="btn-cancel">Cancelar</button>
            </div>
        </div>
    </div>
</body>

</html>